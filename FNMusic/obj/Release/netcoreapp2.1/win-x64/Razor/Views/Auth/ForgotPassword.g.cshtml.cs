#pragma checksum "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "73c871130a958ed04254d6efd003569ac4a37fee"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Auth_ForgotPassword), @"mvc.1.0.view", @"/Views/Auth/ForgotPassword.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Auth/ForgotPassword.cshtml", typeof(AspNetCore.Views_Auth_ForgotPassword))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\_ViewImports.cshtml"
using FNMusic;

#line default
#line hidden
#line 2 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\_ViewImports.cshtml"
using FNMusic.Models;

#line default
#line hidden
#line 2 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
#line 3 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
using UserMgt.Models;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"73c871130a958ed04254d6efd003569ac4a37fee", @"/Views/Auth/ForgotPassword.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5459c0cf8603ab4dc6f79681afbdf1c2daee3acd", @"/Views/_ViewImports.cshtml")]
    public class Views_Auth_ForgotPassword : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<UserMgt.Models.ForgotPassword>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(97, 2, true);
            WriteLiteral("\r\n");
            EndContext();
#line 6 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
  
    Layout = "~/Views/Shared/_AuthLayout.cshtml";
    ViewData["Title"] = "Forgot Password";
    AuthKey authKey = Model.AuthKey;
    var session = httpContextAccessor.HttpContext.Session;
    bool prp = Convert.ToBoolean(session.GetString("PRP"));
    bool prpv = Convert.ToBoolean(session.GetString("PPRV"));
    bool sent = Convert.ToBoolean(session.GetString("Sent"));


#line default
#line hidden
            BeginContext(538, 418, true);
            WriteLiteral(@"
<section class=""m-t-lg"">
    <div class=""container aside-xl bg-white"" style=""border-style:solid; border-width:1px; border-radius:5px;"">
        <header class=""wrapper text-center"">
            <h3>Forgot Password</h3>
        </header>
        <section class=""form-horizontal"" style=""padding:0px 30px 30px 30px;"">
            <h5 class=""text-center"">Fill in all necessary information</h5>
            <hr />
");
            EndContext();
#line 25 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
             if (!sent)
            {
                

#line default
#line hidden
#line 27 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                 using (Html.BeginForm("Auth", "ForgotPassword", FormMethod.Post, new { enctype = "multipart/form-data" }))
                {
                    if (Model.AuthKey == AuthKey.Email)
                    {

#line default
#line hidden
            BeginContext(1220, 78, true);
            WriteLiteral("                        <div class=\"form-group\">\r\n                            ");
            EndContext();
            BeginContext(1299, 39, false);
#line 32 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                       Write(Html.ValidationMessageFor(x => x.Email));

#line default
#line hidden
            EndContext();
            BeginContext(1338, 30, true);
            WriteLiteral("\r\n                            ");
            EndContext();
            BeginContext(1369, 106, false);
#line 33 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                       Write(Html.TextBoxFor(x => x.Email, new { @class = "form-control text-center input-sm", placeholder = "Email" }));

#line default
#line hidden
            EndContext();
            BeginContext(1475, 168, true);
            WriteLiteral("\r\n                            <a class=\"pull-right\" href=\"/forgotpassword?fpa=1\"><small class=\"text-sm\">use phone instead?</small></a>\r\n                        </div>\r\n");
            EndContext();
#line 36 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                    }
                    else if (Model.AuthKey == AuthKey.Phone)
                    {

#line default
#line hidden
            BeginContext(1751, 78, true);
            WriteLiteral("                        <div class=\"form-group\">\r\n                            ");
            EndContext();
            BeginContext(1830, 39, false);
#line 40 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                       Write(Html.ValidationMessageFor(x => x.Phone));

#line default
#line hidden
            EndContext();
            BeginContext(1869, 30, true);
            WriteLiteral("\r\n                            ");
            EndContext();
            BeginContext(1900, 106, false);
#line 41 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                       Write(Html.TextBoxFor(x => x.Email, new { @class = "form-control text-center input-sm", placeholder = "Phone" }));

#line default
#line hidden
            EndContext();
            BeginContext(2006, 168, true);
            WriteLiteral("\r\n                            <a class=\"pull-right\" href=\"/forgotpassword?fpa=0\"><small class=\"text-sm\">use email instead?</small></a>\r\n                        </div>\r\n");
            EndContext();
#line 44 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                    }

                    

#line default
#line hidden
#line 46 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                     if (prp)
                    {

                        if (!prpv)
                        {

#line default
#line hidden
            BeginContext(2318, 235, true);
            WriteLiteral("                            <h5 class=\"text-center\">A verification code was sent to your mobile number, kindly input the code in the box below</h5>\r\n                            <div class=\"form-group\">\r\n                                ");
            EndContext();
            BeginContext(2554, 112, false);
#line 53 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                           Write(Html.TextBoxFor(x => x.Token, new { @class = "form-control input-lg text-center", placeholder = "_ _ _ _ _ _" }));

#line default
#line hidden
            EndContext();
            BeginContext(2666, 38, true);
            WriteLiteral("\r\n                            </div>\r\n");
            EndContext();
#line 55 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                        }
                        else
                        {


#line default
#line hidden
            BeginContext(2790, 102, true);
            WriteLiteral("                            <h5 class=\"text-center\">Your request has been verified successfully</h5>\r\n");
            EndContext();
#line 60 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                        }

                    }

#line default
#line hidden
#line 64 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                     if (prp && !prpv)
                    {

#line default
#line hidden
            BeginContext(3009, 479, true);
            WriteLiteral(@"                        <button type=""submit"" class=""btn btn-success btn-block"">
                            <span>verify</span>
                        </button>
                        <p class=""text-center m-t-lg"">
                            Didn't get the code?
                            <a class=""btn btn-danger"" onclick=""sendPasswordResetLink()"">
                                <span>resend</span>
                            </a>
                        </p>
");
            EndContext();
#line 75 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                    }
                    else
                    {

#line default
#line hidden
            BeginContext(3560, 192, true);
            WriteLiteral("                        <button type=\"submit\" class=\"btn btn-success btn-block\">\r\n                            <span class=\"text-center h4\">Send Link</span>\r\n                        </button>\r\n");
            EndContext();
#line 81 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                    }

#line default
#line hidden
#line 81 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                     

                }

#line default
#line hidden
            BeginContext(3798, 692, true);
            WriteLiteral(@"                <script type=""text/javascript"">
                    function sendPasswordResetLink() {
                        const http = new XMLHttpRequest();
                        const url = '/sendforgotpasswordverificationtoken';
                        http.open(""POST"", url);
                        http.send();

                        http.onreadystatechange = (e) => {
                            if (http.readyState == 4) {
                                document.location.reload(true);
                                alert('Token was sent successfully');
                            }
                        }
                    }
                </script>
");
            EndContext();
#line 100 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
            }
            else
            {

#line default
#line hidden
            BeginContext(4538, 91, true);
            WriteLiteral("                <div class=\"form-group\">\r\n                    <h4 class=\"text-center\">Dear ");
            EndContext();
            BeginContext(4630, 11, false);
#line 104 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
                                            Write(Model.Email);

#line default
#line hidden
            EndContext();
            BeginContext(4641, 350, true);
            WriteLiteral(@",</h4>
                    <h5 class=""text-center"">Your password reset link was sent to your email</h5>
                    <br />
                    <a href=""/"" class=""btn btn-success center-block"">
                        <i class=""fa fa-home""></i>
                        <span>Home</span>
                    </a>
                </div>
");
            EndContext();
#line 112 "C:\Users\Stephen\Documents\Visual Studio 2017\Projects\Project-X\FNMusic\Views\Auth\ForgotPassword.cshtml"
            }

#line default
#line hidden
            BeginContext(5006, 44, true);
            WriteLiteral("        </section>\r\n    </div>\r\n</section>\r\n");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IHttpContextAccessor httpContextAccessor { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<UserMgt.Models.ForgotPassword> Html { get; private set; }
    }
}
#pragma warning restore 1591
